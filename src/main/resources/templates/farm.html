<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head> <title> My Farm Application </title> 
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js">
</script>
</head>

<body>
	<!-- Ponemos el titulo -->
	<h1>My Farm Application: Your Farm</h1>
	<br>
	<br>
	<!-- Detallamos la info de la granja -->
	Location Name: <span th:text="${farmStatus.getLocationID()}"/>
	<br>
	<br>
	Location Size:  <span th:text="${farmStatus.getSize()}" />
	<br>
	<br>
	Money:  <span th:text="${farmStatus.getMoney()}" />
	<br>
	<br>
	Chicken Count:  <span th:text="${chickenCount}" />
	<br>
	<br>
	Egg Count:  <span th:text="${eggCount}" />
	<br>
	<br>
	Cattle Count:  <span th:text="${farmStatus.getCattleCount()}" />
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	Market:
	<!-- add market -->
	<br>
	<br>
	<button  id="buyChickenBtn" th:onclick="'javascript:buyChicken(' + ${farmStatus.getID()} + ')'">Buy Chicken!</button>
	<br>
	<button  id="sellChickenBtn" th:onclick="'javascript:sellChicken(' + ${farmStatus.getID()} + ')'">Sell Chicken!</button>
	<br>
	<button  id="buyEggBtn" th:onclick="'javascript:buyEgg(' + ${farmStatus.getID()} + ')'">Buy Egg!</button>
	<br>
	<button  id="sellEggBtn" th:onclick="'javascript:sellEgg(' + ${farmStatus.getID()} + ')'">Sell Egg!</button>
	<br>
	
	

</body>
	<script>
		function buyChicken(id){
				$.ajax({
				        type: "POST",
				        url: "/api/buyChicken",
				        data: {"id": id},
				        success: function(result) {
				            location.reload();
				        },
				        error: function (result) {
        					alert(result.responseText);
				        }
				    });
		}
		function buyEgg(id){
				$.ajax({
				        type: "POST",
				        url: "/api/buyEgg",
				        data: {"id": id},
				        success: function(result) {
				        	
				            location.reload();
				        },
				        error: function(result) {
				            alert(result.responseText);
				        }
				    });
		}
				function sellChicken(id){
				$.ajax({
				        type: "POST",
				        url: "/api/sellChicken",
				        data: {"id": id},
				        success: function(result) {
				        	
				            location.reload();
				        },
				        error: function(result) {
				            alert(result.responseText);
				        }
				    });
		}
				function sellEgg(id){
				$.ajax({
				        type: "POST",
				        url: "/api/sellEgg",
				        data: {"id": id},
				        success: function(result) {
				            location.reload();
				        },
				        error: function(result) {
				            alert(result.responseText);
				        }
				    });
		}
	</script>
</html>